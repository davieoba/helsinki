import './App.css'

// header component
const Header = (props) => {
  return <h1>{props.text}</h1>
}

// footer component
const Footer = () => {
  return (
    <div>Course info app created by <a href="https://github.com/davieoba">davieoba</a></div>
  )
}

// part component
const Part = ({ name, excercise }) => {
  return (
    <>
      <li>{name} {excercise}</li>
    </>
  )
}

// content of the course component
const Content = ({ props }) => {
  return (
    <ul>
      {props.map((el) => {
        return <Part key={el.id} name={el.name} excercise={el.exercises} />
      })}
    </ul>
  )
}

// total component
const Total = ({ props }) => {
  const arrTotal = props.map(el => {
    return el.exercises
  })

  const total = arrTotal.reduce((prev, curr) => {
    return prev + curr
  }, 0)



  return <h4>Total of {total} exercises</h4>
}

// course component
const Course = ({ course }) => {
  return course.map((el) => {
    return (
      <div key={el.id}>
        <Header text={el.name} />
        <Content props={el.parts} />
        <Total props={el.parts} />
      </div>
    )
  })

}

const App = () => {

  const courses = [{
    id: 1,
    name: 'Half Stack application development',
    parts: [
      {
        name: 'Fundamentals of React',
        exercises: 10,
        id: 1
      },

      {
        name: 'Using props to pass data',
        exercises: 7,
        id: 2
      },

      {
        name: 'State of a component',
        exercises: 14,
        id: 3
      },
      {
        name: 'Redux',
        exercises: 11,
        id: 4
      }
    ]
  },
  {
    name: 'Node.js',
    id: 2,
    parts: [
      {
        name: 'Routing',
        exercises: 3,
        id: 1
      },
      {
        name: 'Middlewares',
        exercises: 7,
        id: 2
      }
    ]
  }
  ]

  return (
    <div>

      <Course course={courses} />

      <Footer />
    </div>
  )
}
export default App
